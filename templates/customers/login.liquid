<div class="account">
  <div class="container">
    <div class="inner">    
      
      <div id="customer">

        <h1 class="text-center">Login</h1>

        {% form 'customer_login' %}
        
          {{ form.errors | default_errors }}
        
          <div class="form">
            <div class="field" id="login_email">
              <label>Email Address</label>
              <input type="email" value="" name="customer[email]" id="customer_email" size="30">
            </div>
            <div class="field" id="login_password">
              <label>Password</label>
              <input type="password" name="customer[password]" id="customer_password" size="16">
            </div>
            <input type="submit" value="Sign in" class="button">
            <div class="actions">
              <p><a href="/account/register">Create a new account</a> <span class="divider">|</span> <a href="#" onClick="showRecoverPasswordForm();return false;">Forgot password?</a></p>
            </div>
          </div>
        
        {% endform %}
        
      </div><!-- /customer -->
      
      <div id="recover-password" style="display:none">
        
        <h1 class="text-center">Reset Password</h1>

        {% form 'recover_customer_password' %}

          {% if form.posted_successfully? %}
        
            <p class="text-center reset_success">Please check your email to reset your password.</p>
        
          {% else %}
        
            <p class="text-center">We will send you an email to reset your password.</p>
        
            {{ form.errors | default_errors }}
        
          {% endif %}
        
          <div class="form">
            <div class="field" id="recover_email">
              <label>Email Address</label>
              <input type="email" value="" size="30" name="email" id="recover-email">
            </div>
            <input type="submit" value="Submit" class="button">
            <div class="actions text-center">
              <p><a href="#" onClick="hideRecoverPasswordForm();return false;">Cancel</a></p>
            </div>
          </div>
        
        {% endform %}
        
      </div><!-- /recover-password -->

    </div>
  </div>
</div>

<script type="text/javascript">
  function showRecoverPasswordForm() {
    document.getElementById('recover-password').style.display = 'block';
    document.getElementById('customer').style.display='none';
  }

  function hideRecoverPasswordForm() {
    document.getElementById('recover-password').style.display = 'none';
    document.getElementById('customer').style.display = 'block';
  }

  if (window.location.hash == '#recover') { showRecoverPasswordForm() }

  if (document.querySelector("p.reset_success") !== null) {
    document.getElementById("recover-password").style.display = "block";
    document.getElementById("customer").style.display = "none";
  }

</script>